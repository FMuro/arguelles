% Requirements
\RequirePackage{tikz}
\RequirePackage{xcolor}
\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage{cancel}
\RequirePackage{xfrac}
\RequirePackage{hyperref}
\RequirePackage{Alegreya}
\RequirePackage{AlegreyaSans}
\RequirePackage{euler}
\RequirePackage{fontawesome}

% Fonts
\usefonttheme{serif}
\setbeamerfont{title}{size=\LARGE}
\setbeamerfont{subtitle}{size=\Large}
\setbeamerfont{date}{series=\itshape}
\setbeamerfont{author}{series=\bfseries}
\setbeamerfont{institute}{size=\small}
\setbeamerfont{frametitle}{size=\Large}
% \setbeamerfont{section title}{size=\LARGE}

% Colors
\definecolor{uc3m}{HTML}{001489}
\definecolor{paper}{HTML}{f5f5f5}
\definecolor{ink}{HTML}{27221f}
\setbeamercolor{normal text}{fg=ink}
\setbeamercolor{alerted text}{fg=uc3m}
\setbeamercolor{structure}{bg=paper,fg=ink}

% Background
\setbeamertemplate{background}{
  \begin{tikzpicture}
  \fill[structure.bg] (0,0) rectangle (\paperwidth,\paperheight);
  \end{tikzpicture}
}

% Title page
\defbeamertemplate*{title page}{arguelles}[1][]{
  \null\vfill
  \begin{beamercolorbox}{title page header}
    {\usebeamerfont{title}\inserttitle\par\smallskip}
    {\usebeamerfont{subtitle}\insertsubtitle\par\bigskip}
    {\usebeamerfont{date}\insertdate\par\bigskip}
    {\usebeamerfont{author}\insertauthor\par\smallskip}
    {\usebeamerfont{institute}\insertinstitute\par}
  \end{beamercolorbox}
}

% Frame title
\defbeamertemplate*{frametitle}{arguelles}[1][]{
    \begin{beamercolorbox}[wd=\paperwidth]{frametitle}
    \begin{tikzpicture}
    \useasboundingbox (0,0) rectangle (\paperwidth,.145\paperheight);
    \fill[structure.bg] (0,0) rectangle (\paperwidth,.145\paperheight);
      \ifx\insertframesubtitle\@empty
        {\node[anchor=south west] at (.035\paperwidth,.025\paperheight) {\insertframetitle};}
        \else%
        {
          \node[anchor=south west] at (.035\paperwidth,.065\paperheight) {\insertframetitle};
          \node[anchor=south west,font=\large] at (.035\paperwidth,0) {\insertframesubtitle};
        }
        \fi
    \end{tikzpicture}
    \end{beamercolorbox}
}

% Lists
\setbeamertemplate{items}[none]
\setbeamertemplate{sections/subsections in toc}[none]

% Blocks
%\setbeamertemplate{blocks}[rounded][shadow=true]

% Navigation
\setbeamertemplate{navigation symbols}{}

% Macros
\newcommand\email[1]{\itshape\href{mailto:#1}{#1}}
\newcommand\link[1]{\itshape\href{https://#1}{https://#1}}
